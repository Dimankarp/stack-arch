```
                 ┌───────────────────────────────────────────────┐                                 
                 │                             mux_tos           │                                 
                 │                             ------►┌────┐     │                                 
                 │          mux_stck                ┌─┘DS  ◄─────┘                                 
┌──────────┐     │    ┌───┐◄--------                │   /  │                                       
│          ├─────┴────►DS └┐           ┌───────┐    │  MEM ◄──────────┐                            
│          │          │ /  ├─────┐     │  TOS  ◄────┤   /  │          │                            
│  DATA    │       ┌──►RS ┌┘     │     └───┬───┘    │  IR  ◄───┐      │              ┌────────────┐
│  STACK   │       │  └───┘      │         │        │   /  │   │      │              │            │
│          │       │       alu_l │         │ alu_r  └─┐ALU ◄─┐ │IR.lit│              │ MEMORY     │
│          ◄───────┼────┐  ----► │         │ ◄----    └────┘ │ │[26:0]│    MOUT[31:0]│ UNIT &     │
└──────────┘       │    │        │         │                 │ │      ├──────────────┤ CACHE      │
                   │    │     ┌──▼──┐   ┌──▼──┐        ┌─────┘ │      │         mrd  │            │
┌──────────┐       │    │     │     └───┘     │  CTRL  │       │      │         ---► │            │
│          ├───────┘    │     │               │  UNIT  │      ┌┴──────▼┐        mwr  │            │
│          │            │     └┐     ALU     ┌┘    ▲   │      │   IR   ├─┐      ---► │            │
│  RETURN  │            │      └┐           ┌┘     │   │      └────────┘ │           │            │
│  STACK   │   ┌───┐    │  ----►└─────┬──┬──┘     ┌┴┐  │                 │  MIN[31:0]│            │
│          │  ┌┘ALU◄────┤  alu_op     │  │      ┌─►Z│  ├─────────────────┼───────────►            │
│          ◄──┤  / │    │             │  └──────┘ └─┘  │                 │           │            │
└──────────┘  └┐PC ◄──┐ │             │                │   ┌──────┐      │  ADR[26:0]│            │
         -----►└───┘  │ └─────────────┴──────────┬─────┴───►  AR  ├──────┼───────────►            │
         mux_rs       │                          │         └──────┘      │           │            │
                      └────────────────────┐     └────────┐              │           │            │
                                           │ mux_pc       │              │           │            │
                  IR   ┌────────────┐      │ -----►┌────┐ │              │           │            │
                  ─────►            │      │     ┌─┘    ◄─┘              │IR.lit     └────────────┘
                  Z    │            │      │     │ ALU  │                │[26:0]                   
                  ─────► CONTROL    │  ┌───┴──┐  │  /   │                │                         
                       │ UNIT       │  │  PC  ◄──┤ IR   ◄────────────────┤                         
                  ◄----│            │  └───┬──┘  │  /   │                │                         
                signals│            │      │     │ +1   │                ▼                         
                       └────────────┘      │     └─┐    ◄────┐         CTRL                        
                                           │       └────┘    │         UNIT                        
                                           │               ┌─┴┐                                    
                                           └───────────────►+1│                                    
                                                           └──┘                                    
```
```
                 +-----------------------------------------------+                                 
                 |                             mux_tos           |                                 
                 |                             ------>+----+     |                                 
                 |          mux_stck                +-+DS  <-----+                                 
+----------+     |    +---+<--------                |   /  |                                       
|          +-----+---->DS ++           +-------+    |  MEM <----------+                            
|          |          | /  +-----+     |  TOS  <----+   /  |          |                            
|  DATA    |       +-->RS ++     |     +---+---+    |  IR  <---+      |              +------------+
|  STACK   |       |  +---+      |         |        |   /  |   |      |              |            |
|          |       |       alu_l |         | alu_r  +-+ALU <-+ |IR.lit|              | MEMORY     |
|          <-------+----+  ----> |         | <----    +----+ | |[26:0]|    MOUT[31:0]| UNIT &     |
+----------+       |    |        |         |                 | |      +--------------+ CACHE      |
                   |    |     +--v--+   +--v--+        +-----+ |      |         mrd  |            |
+----------+       |    |     |     +---+     |  CTRL  |       |      |         ---> |            |
|          +-------+    |     |               |  UNIT  |      ++------v+        mwr  |            |
|          |            |     ++     ALU     ++    ^   |      |   IR   +-+      ---> |            |
|  RETURN  |            |      ++           ++     |   |      +--------+ |           |            |
|  STACK   |   +---+    |  ---->+-----+--+--+     +++  |                 |  MIN[31:0]|            |
|          |  ++ALU<----+  alu_op     |  |      +->Z|  +-----------------+----------->            |
|          <--+  / |    |             |  +------+ +-+  |                 |           |            |
+----------+  ++PC <--+ |             |                |   +------+      |  ADR[26:0]|            |
         ----->+---+  | +-------------+----------+-----+--->  AR  +------+----------->            |
         mux_rs       |                          |         +------+      |           |            |
                      +--------------------+     +--------+              |           |            |
                                           | mux_pc       |              |           |            |
                  IR   +------------+      | ----->+----+ |              |           |            |
                  ----->            |      |     +-+    <-+              |IR.lit     +------------+
                  Z    |            |      |     | ALU  |                |[26:0]                   
                  -----> CONTROL    |  +---+--+  |  /   |                |                         
                       | UNIT       |  |  PC  <--+ IR   <----------------+                         
                  <----|            |  +---+--+  |  /   |                |                         
                signals|            |      |     | +1   |                v                         
                       +------------+      |     +-+    <----+         CTRL                        
                                           |       +----+    |         UNIT                        
                                           |               +-++                                    
                                           +--------------->+1|                                    
                                                           +--+                                    
```
```
          ┌─────────────────────────────┐                                                                              
          │        mux_mpc              │mIR.adr                                                                       
          │  ┌───┐◄-------              │                                                                              
          └──►mIR└┐                ┌────┴─────┐                                                                        
             │ /  │     ┌─────┐    │          │                                                                        
    ┌────────► IR ├─────► mPC ├─┬──► mPROGRAM │                                                                        
    │        │ /  │     └─────┘ │  │          │                                                                        
    │     ┌──► +1┌┘             │  └──────────┘                                                                        
    │     │  └───┘              │    ▲      |                                                                          
    │     │                     │    │      |                                                                          
    │     │                     │    │ Z    | signals                                                                  
    │     │        ┌──┐         │    │      |                                                                          
    │     └────────┤+1├─────────┘    │      |                                                                          
┌───┴───┐          └──┘              │      ▼                                                                          
│IR->mPC│                                                                                                              
└───▲───┘                          ┌──────────┐                                                                        
    │                              │          │                                                                        
    │            IR.opcode[31:27]  │          │                                                                        
    └──────────────────────────────┤ DATAPATH │                                                                        
                                   │          │                                                                        
                                   │          │                                                                        
                                   └──────────┘                                                                        
   mPROGRAM                                                                                                            
  ┌────────────────────────────────────────────┐                                                                       
  │                                            │                                                                       
  │                  ▲                         │                                                                       
  │                  |                         │                                                                       
  │                  | signals                 │                                                                       
  │                  |                         │                                                                       
  │              ┌───────┐                     │                                                                       
  │          --► │signals│                     │                                                                       
  │          |   └───▲───┘                     │                                                                       
  │  mIR.type|       │            ┌──────────┐ │                                                                       
  │          |   ┌───┴───┐ M.out  │mPROGRAM  │ │                                                                       
  │          ----│  mIR  ├───◄────┤MEMORY    │ │                                                                       
  │          |   └───────┘        │          │ │                                                                       
  │          |       |            │          │ │                                                                       
  │          |  mIR.z|            └─────▲────┘ │                                                                       
  │          |       |                  │mAddr │                                                                       
  │   mJMP   ▼       ▼                  │      │                                                                       
  │   ◄------AND ◄--EQ◄--( Z/0 )    mPC │      │                                                                       
  │                       ▲   ▲         │      │                                                                       
  │                       |   |                │                                                                       
  │                      Z|   |0               │                                                                       
  │                       |   |                │                                                                       
  └────────────────────────────────────────────┘                                                                       
                                                                                                                  
```
```
          +-----------------------------+                                                                              
          |        mux_mpc              |mIR.adr                                                                       
          |  +---+<-------              |                                                                              
          +-->mIR++                +----+-----+                                                                        
             | /  |     +-----+    |          |                                                                        
    +--------> IR +-----> mPC +-+--> mPROGRAM |                                                                        
    |        | /  |     +-----+ |  |          |                                                                        
    |     +--> +1++             |  +----------+                                                                        
    |     |  +---+              |    ^      |                                                                          
    |     |                     |    |      |                                                                          
    |     |                     |    | Z    | signals                                                                  
    |     |        +--+         |    |      |                                                                          
    |     +--------++1+---------+    |      |                                                                          
+---+---+          +--+              |      v                                                                          
|IR->mPC|                                                                                                              
+---^---+                          +----------+                                                                        
    |                              |          |                                                                        
    |            IR.opcode[31:27]  |          |                                                                        
    +------------------------------+ DATAPATH |                                                                        
                                   |          |                                                                        
                                   |          |                                                                        
                                   +----------+                                                                        
   mPROGRAM                                                                                                            
  +--------------------------------------------+                                                                       
  |                                            |                                                                       
  |                  ^                         |                                                                       
  |                  |                         |                                                                       
  |                  | signals                 |                                                                       
  |                  |                         |                                                                       
  |              +-------+                     |                                                                       
  |          --> |signals|                     |                                                                       
  |          |   +---^---+                     |                                                                       
  |  mIR.type|       |            +----------+ |                                                                       
  |          |   +---+---+ M.out  |mPROGRAM  | |                                                                       
  |          ----|  mIR  +---<----+MEMORY    | |                                                                       
  |          |   +-------+        |          | |                                                                       
  |          |       |            |          | |                                                                       
  |          |  mIR.z|            +-----^----+ |                                                                       
  |          |       |                  |mAddr |                                                                       
  |   mJMP   v       v                  |      |                                                                       
  |   <------AND <--EQ<--( Z/0 )    mPC |      |                                                                       
  |                       ^   ^         |      |                                                                       
  |                       |   |                |                                                                       
  |                      Z|   |0               |                                                                       
  |                       |   |                |                                                                       
  +--------------------------------------------+                                                                       
                                                                                                               
```